nav.navbar.navbar-default.navbar-static-top.navbar-inverse
  .container
    .navbar-header
      button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/polls') Pollster
    #navbar.navbar-collapse.collapse
      ul.nav.navbar-nav.navbar-right
        li
          a(href='/polls') Home
        li
          button#login-button.btn.btn-default.navbar-btn(type='button') Log in with Twitter
script.
  function popupWindow(url, title, w, h) {
    var yPos = window.outerHeight / 2 + window.screenY - (h / 2)
    var xPos = window.outerWidth / 2 + window.screenX - (w / 2)
    return window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no,scrollbars=no, resizable=no, copyhistory=no, width=' + w + ', height=' + h + ', top=' + yPos + ', left=' + xPos);
  } 

  var loginButton = document.querySelector('#login-button');
  loginButton.addEventListener('click', function() {
    var authUrl = '/auth/twitter';
    popupWindow(authUrl, 'tweetPoll', 500, 500);
    return false;    
  }, false);
  